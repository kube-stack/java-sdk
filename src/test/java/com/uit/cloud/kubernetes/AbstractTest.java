/*
 * Copyright (2019, ) Institute of Software, Chinese Academy of Sciences
 */
package com.uit.cloud.kubernetes;

import com.github.kubesys.kubernetes.ExtendedKubernetesClient;
import com.github.kubesys.kubernetes.api.model.VirtualMachine;
import com.github.kubesys.kubernetes.api.model.VirtualMachineDisk;
import com.github.kubesys.kubernetes.api.model.VirtualMachineDiskImage;
import com.github.kubesys.kubernetes.api.model.VirtualMachineImage;
import com.github.kubesys.kubernetes.api.model.VirtualMachineNetwork;
import com.github.kubesys.kubernetes.api.model.VirtualMachinePool;

import io.fabric8.kubernetes.client.Config;
import io.fabric8.kubernetes.client.ConfigBuilder;

/**
 * @author wuheng@otcaix.iscas.ac.cn
 * @author wuyuewen@otcaix.iscas.ac.cn
 * @author liuhe@otcaix.iscas.ac.cn
 * 
 * @version 1.3.0
 * @since   2019/9/3
 *
 */
public class AbstractTest {

	public static Config config = new ConfigBuilder()
			.withApiVersion("v1")
			.withCaCertData("LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUN5RENDQWJDZ0F3SUJBZ0lCQURBTkJna3Foa2lHOXcwQkFRc0ZBREFWTVJNd0VRWURWUVFERXdwcmRXSmwKY201bGRHVnpNQjRYRFRFNU1URXhOakF4TlRFeU0xb1hEVEk1TVRFeE16QXhOVEV5TTFvd0ZURVRNQkVHQTFVRQpBeE1LYTNWaVpYSnVaWFJsY3pDQ0FTSXdEUVlKS29aSWh2Y05BUUVCQlFBRGdnRVBBRENDQVFvQ2dnRUJBT2RNCnRaaFFGOUxhUm90MlpwMGhEdFBJTDJvY0FkdXYraWEyaFBhQVZuUWIvSlAvUWcvbXNPRWwyUW1PM2ltVkp5UjkKL0Q1ak04WkxEbkx5TlRDaTVFL0U0czJ5MmtGRnNwRVpQUHJiQ3lTREtlZCtKak1WbVpZK1lNemEwaytkNm9Ycgo5STlqdjhqbDFuRForLzh4N2lNWHVvUzNYYzFLQzBNMVFZVDAyK1R6RTVTTDA3a3daQmUvK000dWZUTFROdnE5Cm4rQlNadnlHVVNyTWUrc0l6SytuVEJXU0hCOERRamJ1VHhWNnluUnZTK2txOHZIdHdCMjR2SWdpQlp2OWppTVUKL0J1Ky9jL0d4SWZxQll5dVVNM1hNc1RDbklsZ3NxaHBPWk5BaERmTTh5ajl2QmJtWmZjNVF2T0FXTUEzaS9YVApJNUVBM0VXL1M5ZTN4MkhOaC9VQ0F3RUFBYU1qTUNFd0RnWURWUjBQQVFIL0JBUURBZ0trTUE4R0ExVWRFd0VCCi93UUZNQU1CQWY4d0RRWUpLb1pJaHZjTkFRRUxCUUFEZ2dFQkFKdjcrWXVXam1rY0ZxTy81UDhJaVJFSWtuNnEKSEpOK3c2aTBmekVWSkVmTXp2cVdMUXZ5OTNtRVQra1g2Sm1sdmVxZHNzdk1OVVZvYkIvL0gxZHh2SEVmSGVaZQpMOVRqOGJJeWFheUJMSm9QSWNNU2hiK1pieGdZeURlUWdpK1ROTitxblNWQUZqbGViNU9FOXJyZ3lJNWJWTHNXCkdVNWltNDZyVkk3TmdSb2gzcUZFWmVLTG5teWE2Z3BNYU95dEZtbTVTNE1CcUJHVml6OFlCSlVlU0dranV3a0EKcDJPeGVYNmNIMmdrRTdVRk0zZ3haU3JVL1pldHRZYjc3NEJzazdWOHNVTWJlTENMYjZQVnhRQkdtcUd4M2pmbQpZRkl5YjlUOGNvNWtoNG5vZUluSTBZM2JlbGJBbm56a0ZObWoxMUNlYUs4OWVFd3VMVndSN1VtOHF6VT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=")
			.withClientCertData("LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUM4akNDQWRxZ0F3SUJBZ0lJSmNIOTU4VCtodEF3RFFZSktvWklodmNOQVFFTEJRQXdGVEVUTUJFR0ExVUUKQXhNS2EzVmlaWEp1WlhSbGN6QWVGdzB4T1RFeE1UWXdNVFV4TWpOYUZ3MHlNREV4TVRVd01UVXhNalJhTURReApGekFWQmdOVkJBb1REbk41YzNSbGJUcHRZWE4wWlhKek1Sa3dGd1lEVlFRREV4QnJkV0psY201bGRHVnpMV0ZrCmJXbHVNSUlCSWpBTkJna3Foa2lHOXcwQkFRRUZBQU9DQVE4QU1JSUJDZ0tDQVFFQXRzTG1ySWRubE1oVjdmZjUKSGd1SGxVYnZ6TWFTb3hPekpjVHJraWVSSXVRSHBpcHJlMnNwSmVoS1dDNWRheStzTVZXZ0RNR2ptWnVmR3JsMAp4SzBtbGI3eXdlL1lYang2OHpEanUyczV3ZUJwV1FzbEFnQU82YlNwSkFFWDRRekxlK29nZ1pKazBGcmpDYzFvCitIVkpSa0MzcEZqZXRDSm1Ha1hZcDFZYjRIbEUwKzFjdjBJR0UxODJhaE9oejJZZGlaalBWWG9DS01ZNkZibG0KSzFJS1N1SEVEY3lONThkcVZPZEVqSXVJdHE0d1dXSVNpcFpNaTZSZ3BBY2htUWNvMlJ4VVBwZWxDeHRrYWJLTAo5em1QT0o2Y1Vib2I3ck5tQjRqc1paS0JYbTB4U25aVjFKZTVHOUxFNXhBMTVvbnJkQkVUU1ZoZ2tEcWNmaHJWCnVDZWFyd0lEQVFBQm95Y3dKVEFPQmdOVkhROEJBZjhFQkFNQ0JhQXdFd1lEVlIwbEJBd3dDZ1lJS3dZQkJRVUgKQXdJd0RRWUpLb1pJaHZjTkFRRUxCUUFEZ2dFQkFBRVNiZ1RDVmQyckJ1MEVhY0p6em04NTRNQnIyRGdLSFczMgpQSFYrQkdTOXBzRlhwQXp2dzNCVzdHaFlHV0dEYlMyT3dVUXFqT1g4NFNTTXY2eDN1OU5lTFpienIzUFB4UW40CnBqUSt4ait3Ni9nc3YvWEsrZUtnT2x0clFSdjhQSjlHQUJCYnEvTUE1RGpiRWIrWE05ZWlSMW1YN2xIVERzcWgKMXJ2Mm1oVCtmRjZPa0l0WWRldGZXMXdRZUk1emkyWStLRitWd0w3b2c4Wjk4NVZRWnBMNkxOcWtGTnBpZE1NSwpoT0J4NGI1UnFNcDNoS2owdTdrT21SWHVzMlBIcGhnMEFnRVFiWHhIOWRWemhqbHBIQWZPeUJQNWhLNTZHWllkClZiNWtzd1Qzamk4WmlOK2xGV0t3Q09ncmU2c0YzSzJOanJkM0FZS0ttRUE1a1pZajdPYz0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=")
			.withClientKeyData("LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlFcFFJQkFBS0NBUUVBdHNMbXJJZG5sTWhWN2ZmNUhndUhsVWJ2ek1hU294T3pKY1Rya2llUkl1UUhwaXByCmUyc3BKZWhLV0M1ZGF5K3NNVldnRE1Ham1adWZHcmwweEswbWxiN3l3ZS9ZWGp4Njh6RGp1MnM1d2VCcFdRc2wKQWdBTzZiU3BKQUVYNFF6TGUrb2dnWkprMEZyakNjMW8rSFZKUmtDM3BGamV0Q0ptR2tYWXAxWWI0SGxFMCsxYwp2MElHRTE4MmFoT2h6MllkaVpqUFZYb0NLTVk2RmJsbUsxSUtTdUhFRGN5TjU4ZHFWT2RFakl1SXRxNHdXV0lTCmlwWk1pNlJncEFjaG1RY28yUnhVUHBlbEN4dGthYktMOXptUE9KNmNVYm9iN3JObUI0anNaWktCWG0weFNuWlYKMUplNUc5TEU1eEExNW9ucmRCRVRTVmhna0RxY2ZoclZ1Q2VhcndJREFRQUJBb0lCQVFDRHRqekdOQ05yTDJIMgpTVkxJMjJoUUpicG1hdWw5QzVKOWNzaVBJV0xRc1dQdDFmNTJDTW16M3cvTk0wVHlIWDVNWTdnZjJXSE5MMEZmCjRpNE1HL21GekFKcDBDK3Y0b2g5UVV1dVkxMVJveWhwR3NZR0JnSzVYUkRVdU5EN3lOdlJKdTljVWlQRG9PeWsKd051WXkvWU40bEEyNmpFOXd0aXdzSXV1TlRtTDhNRWwyMGhjZ3BvMitHcW1vZnB0SnhsWFNGTitWWWtNcVlkTQo4TFlvdWU3MXpodzcwOTYyTFQrdnNYN2plRHVzWkhZNHY0aVB5ZHVqeHUvR1hyMzd0NVFRbHFNOGxXcmovZC94CllHWTZhQ05sYjVDK0xrTHRWWWhpOW5lYnpiOENrbHZ5RjNmUlIyMkJJT015cTJEaUJkOGhGZWpBaTcrQlExWDMKTFBkQXd3aVJBb0dCQU1taTloK0VycS9KYjBJWEVNa1UvR1ZnbWtkQkR5WDlwbWNkazZ0VjEzOFhkQ0tMMUZTZgozaW85STBCSTh1Wnd1SEVVMU5PUWZaYjhLK3F1TDI3c2NlWUZwWEVWcFBJZ0o5ZjRHK201cVpIRyt6TThjRStZCjZxYWlhYkJxWmhNZ0tsUUdKK1ZlbHJCanhRdGtPWmt1d2FubzBVMFRMVkFYWW5CeFJlbDdNdFVYQW9HQkFPZ0oKS2NQS2dpRW9QMTl0TVVxcytUaVpqU0hLeTR4Z2lCSUdhR1JXSXdFYUVSL3BheHkyQUJvLzRSNnIyajZISnl1YQozK3NNbnRGeG1qQUFJMW5LcndJTjJpR3ZraFpWRVpabzkrN3YyZnk3RWl1d3Rpc2dEVEh1YTgxTFhsTUZlajFJClhTWnZCQi91TnhtM1VETW9ibExpSDVXeTJIemdHQlhnL1FUV0dKWXBBb0dBRDRmMTNVZWpEUGMvRXFBa010amkKK0F3UTFodzB4b0JiS09ZbVViUXkvUjhaV3UvYVV3cGRXbk9MRzVDQzVTMFpoOXhLNkdEZ3k1aHc2WXF4TEtJWgp3OVg3Z0ZKaWVpUHY3YnEycTdJWlZaazJFQ1Evb21IczhSamhleTAyMzVKQ3NHWW8vSW5rb1lHTjArck1aUGd0CkFxRmtQY09VWWU3ckxpNExiSWlJeWRFQ2dZRUF3YmFNcUlsVEZFMWVndE5OR0hQSjZHZkEvRm9xanJvMFB5QWMKWE0vUWoyWHNzQUNWekxWZzVvazM3dnczeW9YWXZMMmlmTC9mZ3lsZE9QK1VnNjBEYUNxYVZnOFdYaENOQzAzOAoxdnhrdDJxUjQrbTJXOUI1VTVzaFlwV3VYSTh4R3lKanFlZDZ3UkdGN0xFdWdsY1pxNVplR2dMaVczWldoVVY4CjFtSEt5dWtDZ1lFQXZlOVpJbmx1bnE3VkQzZTVvT2IwTGl4REt3K1I5cHlFQUxDeVhmcloza2dxazZpYmNlUE4KZ0xqL1MvcG9aRHAwUXpTWEdEQ0ZERTV6UzJYVFlVcld2NzFyQXV6RTdGcHgxRnpFa0hiRU91NTRpa3EyQlFHKwpWOTg1aUlic0wyTzc5NkVUV3BLdjc2cC9GL0NkTk11b2FLRE45N0FWR3pkVWsvWlJKTE1aSFRVPQotLS0tLUVORCBSU0EgUFJJVkFURSBLRVktLS0tLQo=")
			.withMasterUrl("https://192.168.42.171:6443")
			.build();

	public static ExtendedKubernetesClient getClient() throws Exception {
		return new ExtendedKubernetesClient(config);
	}
	
	public static VirtualMachine getVMByName(String name) throws Exception {
		return getClient().virtualMachines().get(name);
	}
	
	public static VirtualMachineImage getVMImageByName(String name) throws Exception {
		return getClient().virtualMachineImages().get(name);
	}
	
	public static VirtualMachineDisk getVMDiskByName(String name) throws Exception {
		return getClient().virtualMachineDisks().get(name);
	}
	
	public static VirtualMachinePool getVMPoolByName(String name) throws Exception {
		return getClient().virtualMachinePools().get(name);
	}
	
	public static VirtualMachineDiskImage getVMDiskImageByName(String name) throws Exception {
		return getClient().virtualMachineDiskImages().get(name);
	}
	
	public static VirtualMachineNetwork getVMNetworkByName(String name) throws Exception {
		return getClient().virtualMachineNetworks().get(name);
	}

}