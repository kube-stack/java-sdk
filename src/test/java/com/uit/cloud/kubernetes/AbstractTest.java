/*
 * Copyright (2019, ) Institute of Software, Chinese Academy of Sciences
 */
package com.uit.cloud.kubernetes;

import com.github.kubesys.kubernetes.ExtendedKubernetesClient;
import com.github.kubesys.kubernetes.api.model.UITDisk;
import com.github.kubesys.kubernetes.api.model.UITSnapshot;
import com.github.kubesys.kubernetes.api.model.UITStoragePool;
import com.github.kubesys.kubernetes.api.model.VirtualMachine;
import com.github.kubesys.kubernetes.api.model.VirtualMachineDisk;
import com.github.kubesys.kubernetes.api.model.VirtualMachineImage;

import io.fabric8.kubernetes.client.Config;
import io.fabric8.kubernetes.client.ConfigBuilder;

/**
 * @author wuheng@otcaix.iscas.ac.cn
 * @since  2019/7/15
 *
 */
public class AbstractTest {

	public static Config config = new ConfigBuilder()
			.withApiVersion("v1")
			.withCaCertData("LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUN5RENDQWJDZ0F3SUJBZ0lCQURBTkJna3Foa2lHOXcwQkFRc0ZBREFWTVJNd0VRWURWUVFERXdwcmRXSmwKY201bGRHVnpNQjRYRFRFNU1EZ3lNREF6TVRneU9Wb1hEVEk1TURneE56QXpNVGd5T1Zvd0ZURVRNQkVHQTFVRQpBeE1LYTNWaVpYSnVaWFJsY3pDQ0FTSXdEUVlKS29aSWh2Y05BUUVCQlFBRGdnRVBBRENDQVFvQ2dnRUJBSmlECkwzZmF1MEx1NWR2OHVaSXFEYlFTTmowZDJaZWJVVzBGWlVFNU5YRTZtY25DblE4RU02c2F0eDkzdHU3aEUzOE4Ka3JzRXdGVEMxWW00SW1QeEFtOHFqK3RsbXlyeGRGUitwS1R2b1RVSUdoN2dhcU9vTEwwV3Q0b256K1Qza2FHKwp1THJRb3FJTVRHN0lXNnlpb3dSdGVaaGExcEtmejhXbFlSdE5qT3VkSGtpcHROZUZrdUI3TnNSMitmMlRCNW1rCkNoOUJLa2pNUjJtUkRTN0lCK0czbUpPVlRKRzB5K2dBVmI0N1YvOVN6S2VRdmJXaFF5d2hqU0hLYzdFY3p1cVUKYmZtcE4zcXM4ZnRCYW5BaGtvR0V3RGdCTHhoSXZqdlFIM09UNThhT0tFYXd0MkdPVjdtTDM0dzVyRDJIaFBzZQowc2NEcnpKU1RHT0VRWStBVGVrQ0F3RUFBYU1qTUNFd0RnWURWUjBQQVFIL0JBUURBZ0trTUE4R0ExVWRFd0VCCi93UUZNQU1CQWY4d0RRWUpLb1pJaHZjTkFRRUxCUUFEZ2dFQkFJMnl3VDJnUEJDQ0xwNFhQcWYwRXc4cjBDeGUKU01GV3ArOVp1ZC9MV0tDVzBPSTZYM1IzTCsrVHZwWlBPMDhHY0FkaFV6d3ZsdmtQNnc3QWlLTDZLcGRYN21DOAoyaTVQR1hISEZwNGkzYmVJdnpIdDJ0OXlvd0hVdnpaWEM2aDZoOUNqaDdBQ3cyK1ptT0pHK1pyaTgyaFNtSU96CkV2ZzArQ0JrdE1NNHh2VlZuWVBDVHBJeDBBSWRHS2tXYXI1bkcvcWpSZGRZUWRRWlRJbmhLTGJQbmNzNTczOUMKbVQwWW9sYjAzbnV2RGNaMjNyVlk3cVpDMnd0V0ZsRXpDL0lSc1lZa1NQV1Z1OHhtbmkzWHpuVXVQNEF0dFFzWAo4TExEeU5ZOVlUUzhwTUUvWEV1UXVKaXpSdnlmVDhTWlRvSER6TjVGek1uZkFUUUViQkZsS0wwSldraz0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=")
			.withClientCertData("LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUM4akNDQWRxZ0F3SUJBZ0lJU21CMUhZamZtZVV3RFFZSktvWklodmNOQVFFTEJRQXdGVEVUTUJFR0ExVUUKQXhNS2EzVmlaWEp1WlhSbGN6QWVGdzB4T1RBNE1qQXdNekU0TWpsYUZ3MHlNREE0TVRrd016RTRNelZhTURReApGekFWQmdOVkJBb1REbk41YzNSbGJUcHRZWE4wWlhKek1Sa3dGd1lEVlFRREV4QnJkV0psY201bGRHVnpMV0ZrCmJXbHVNSUlCSWpBTkJna3Foa2lHOXcwQkFRRUZBQU9DQVE4QU1JSUJDZ0tDQVFFQTNZMlQveE5tQi83bzlyZVgKd1NUKzRWQTNHVnFrVEtVQ3UwT1AyZzRxdjhhS0wyL1krQzZIaEFkTXcyUEZKUkFBSnZxMHVnaHpubE45UkE1bgpranlqSE9OcFpjSGd2Z1VaQkhqVm90ZkR3cnlUTnFKeXZWSHRNK2dwK1ZlNmRCSGswQWlEYjY0cCtjZXFxQnZCCkxxR2RQVDFkNWsyUWVFcHJkejhNanU4ZWdDN1dUZm9CVEFGTGY4K2ptQXdubkpYRkFyVmg1SGwxSTJDbVlncHUKM05wQjJkaUg3cTNqM3ZIUHdsM1NIUkdXLzVpYjdtMHRZNGNtUkl6WHFWdlBRUnJVSjU5eVpKUk9SR0E3ZGN1TgppUDlxMTRheXQ5dC9TNnNFNzVFdGM1OHhmbzF5SUlJRFlXcGhscUZ0VGZTaTVKVC8rVWpJMVRKbkZjOVpqN0tICkpydENVd0lEQVFBQm95Y3dKVEFPQmdOVkhROEJBZjhFQkFNQ0JhQXdFd1lEVlIwbEJBd3dDZ1lJS3dZQkJRVUgKQXdJd0RRWUpLb1pJaHZjTkFRRUxCUUFEZ2dFQkFEQVJZNzNxU091bVp1OFVhTEhibExZVW1mYkJJN3ZJalRRRQpOTzRuVmt0czNqSEJxWXk3Um5LbVdOS2Z3UUdxWUV1NE5HTk83Q2F6TFVlN2NWSUYrL2NiNk5GNU94Smc1R2prCmIycXBYK01uV2NwNFFYMTNHZWhIQjlvSWxDUjVzRDVLRThEOVd2NEp0ZFM3WGNUdEExUzF6OEs0Rmh6ZGNUR3MKclNodDVGMitTelM1aEJ6TEplUjMxTnhVRjFTVlZEOUZrK1M0OTBqVmhaSGJLMjhlNER5aTZhbTdNZ0d0V1dDQwpVa1ByN0NlanpubGJYMG1zck1Vak5SNU8rQmJBSFJwMkVKOGJWWEtMdWxBbW1KcU01NmlzVFh1RytNYVR2T1VDCmNDZi9mcGNUektkMjc4RlBkNEVMOHFuQVZ1YlpFdjRGdmxmOTNFbjhNZGtXT0kxbnoyWT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=")
			.withClientKeyData("LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlFcEFJQkFBS0NBUUVBM1kyVC94Tm1CLzdvOXJlWHdTVCs0VkEzR1Zxa1RLVUN1ME9QMmc0cXY4YUtMMi9ZCitDNkhoQWRNdzJQRkpSQUFKdnEwdWdoem5sTjlSQTVua2p5akhPTnBaY0hndmdVWkJIalZvdGZEd3J5VE5xSnkKdlZIdE0rZ3ArVmU2ZEJIazBBaURiNjRwK2NlcXFCdkJMcUdkUFQxZDVrMlFlRXByZHo4TWp1OGVnQzdXVGZvQgpUQUZMZjgram1Bd25uSlhGQXJWaDVIbDFJMkNtWWdwdTNOcEIyZGlIN3EzajN2SFB3bDNTSFJHVy81aWI3bTB0Clk0Y21SSXpYcVZ2UFFSclVKNTl5WkpST1JHQTdkY3VOaVA5cTE0YXl0OXQvUzZzRTc1RXRjNTh4Zm8xeUlJSUQKWVdwaGxxRnRUZlNpNUpULytVakkxVEpuRmM5Wmo3S0hKcnRDVXdJREFRQUJBb0lCQUJnQmFDRENQRkx2ZHRTTQpyZis2ZjNkd1ZwZ0RyenV5d1dvQzl3bzhjTHRZeXM0N0F6cFk2RXdROG10Vld4NFo3cnBLZmR5T1grQ3UwU3JYCm1MZEtwSzNUb2k3cFkrMlM1ZFFMTjdLdVNFTElaZmNNZ1B3c2JWUXJlcWpPcmFBMzlCL3FYRHQwbG8yKzZhblAKWUE0cWFyd2c4eFNxSU5ZMzBnOFlvTWEzK0FrUlZvRVlZQkUxTU9TN09oUk1aUXdlZmFkMDVKSVp1dk1GL3N4aAowaWlJM2YydjF4cExlOVZDaU1QKzR4dThWS3BkMnRvaUFmMHdlRjRSL2tsTDh1UjlGWTVUNnpjelJHUlF0eEppCkoxVW9JL2VtcDEzK2lLSWNYSkZGWEJqOVc1MTFITC80WU9rYTNGN2xDV3RSOWNGODBDN0NNWmh2S0ZuRFJwTkEKY3V2NFRxRUNnWUVBN244ZGU1RmpsMkV0L0NIcUVVUXBYd01QUWQwUk9GUjV5eDZGR3FhaHU2OUxnczNvT1NROQpLWHVDQUJuTnp4RWpicDhoYVFvVEE1a3hKM3pnUHNXU3lHOWt6b3k3TWZKbjg4T05wUHBqVFJhK090eFdCcmJ6CmlNdFVURkxSWThtNUdTaWZ6S0dsS1l3bkFEWWdEUmhkcEtKS2F4NWUvYzNnOXd4K2hkYnZ5cU1DZ1lFQTdkQWcKcDBXTVcvb2txOWM4K0JSeWlRclhWWWQ4aUZndjNlSERkanM3SXdxVVdKVHh0NGxwREpJMzVEdHo3bFpFUDE4egpHb0U4MlVrYS85WXEzL1cxd2RYMFNNODI1UWhaYkp2ME90blU3YlJKZFgybHdCVlpDczlFZ2t6OGdSRnJRQ2w4ClRSNlg2OStaUFJpUzVhS1hzcGxzS2xyQ2dzN2ljSTJ4ZFE2a1ZKRUNnWUVBMTg5d3Qwc1ZhbnNHYUh1cjJabnIKTWMyTDlkWjc2WlFQYmF5ZFYwTm5ZSFU4Q0E0WXovUXA0Q3FodFVPa1IzWkRzS3NRU1lOVE4xTmM5bFY2ZVhMQQo0dHhoeE1IMTlqbGF0V3JEOW9DWWNMNWV2dFo0aGJUeFpGeFJXSXNzYkhheUpzRHE4UGxvZ2RNUHk1SXVxSXJlCjJjWDlQemNKVC9NSFdhWVZxemlXWGE4Q2dZQXRxcjdxZ0MrQTVoc3VxSWw3dGlsOGFZbUtVaGMyODRCVm9tbnYKaFZaSTExby9YSExDWk8rNFMwZlNXeHhiRTFQTnU1RkxzSytucGlNNko3MVovb3dscWRsY05mWjdxc3ZKVUhWbwo2N1c0NDlzTFpkSnpmV1g0N201Z2V6b3Q2dE5tb2RETjJtY2dFM01ReVd4RURxSUUyUE50ZXJwSmRrTURqQ0ljCnNYQWJFUUtCZ1FEV01aZU5qcXl1VzdEejlJOEMxMEFabDJHcFd5UG9nT3VXQjMwQUIrTmxINGowem1GMklsZEIKNDdJbUF2V1o2MzA1b2ZEbUZvSFJERjlTN1ZST05XckxZYXhXVDZCamFVaWhtMkcyZzBLaGhHV3Rab3VFRDkzRAp0UUJ5bUxzb01zQ1BlY0lmVGFMVWp4TG9rRHJuU1Z1TWd0M1draE4yZ1dlcUFhRlhRcGM4UHc9PQotLS0tLUVORCBSU0EgUFJJVkFURSBLRVktLS0tLQo=")
			.withMasterUrl("https://133.133.135.22:6443")
			.build();
	
	public static ExtendedKubernetesClient getClient() throws Exception {
		return new ExtendedKubernetesClient(config);
	}
	
	public static VirtualMachine getVMByName(String name) throws Exception {
		return getClient().virtualMachines().get(name);
	}
	
	public static VirtualMachineImage getVMImageByName(String name) throws Exception {
		return getClient().virtualMachineImages().get(name);
	}
	
	public static VirtualMachineDisk getVMDiskByName(String name) throws Exception {
		return getClient().virtualMachineDisks().get(name);
	}
	
	public static UITStoragePool getUITPoolByName(String name) throws Exception {
		return getClient().virtualMachineUITPool().get(name);
	}
	
	public static UITDisk getUITDiskByName(String name) throws Exception {
		return getClient().virtualMachineUITDisk().get(name);
	}
	
	public static UITSnapshot getUITSnapshotByName(String name) throws Exception {
		return getClient().virtualMachineUITSnapshot().get(name);
	}
}
